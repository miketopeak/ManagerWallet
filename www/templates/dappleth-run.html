<!--ion-view view-title="{{activeApp.Name}}" hide-tabs>
  <ion-nav-bar class="bar-stable bar-assertive">
    <ion-nav-back-button>
    </ion-nav-back-button>
  </ion-nav-bar>


      <div class="list has-header">
      <div class="item item-thumbnail-left">
        <img class="rounded" ng-src="{{activeApp.Logo}}"> 
        <div class="row">
          <div class="col item-divider">
            <i class="icon ion-ios-pricetag"></i>
            Price (wei)
          </div>
          <div class="col item-divider">
            <i class="icon ion-trophy"></i>
            Prize (wei)
          </div>
        </div>
        <div class="row">
          <div class="col item-text-wrap">
            <p id="price">{{price}}</p>
          </div>
          <div class="col item-text-wrap">
            <p id="amount">{{amount}}</p>
          </div>
        </div>

        <div class="row">
          <div class="col item-divider">
            <i class="icon ion-ios-stopwatch"></i>
            TimeLeft
          </div>
          <div class="col item-divider">
            <i class="icon ion-pound"></i>
            Bets
          </div>
        </div>
        <div class="row">
          <div class="col item-text-wrap">
            <p id="time">{{time}}</p>
          </div>
          <div class="col item-text-wrap">
            <p id="numGiocate">{{numGiocate}}</p>
          </div>
        </div>
      </div>
    </div>

   <ion-content class="dappleth has-dappleth" delegate-handle="chatScroll">
    <div class="bot-list">
      <div ng-repeat="e in DAPPchats | orderBy:'bot.timestamp'"
        class="bot-wrapper">
        <div ng-class="e.message.from === myidentity ? 'bubble bubble-mine' : 'bubble bubble-other'">
            <img ng-src="{{dapp.identity}}" ng-class="e.message.from === myidentity ? 'image image-mine' : 'image image-other'""> 
          <div class="bot" ng-class="e.message.from === myidentity ? 'bot-mine' : 'bot-other'" on-hold="msgAction(e.message)">
            <div class="bot-text" ng-if="e.message.text.length" ng-bind-html="e.message.text"></div>
            <img ng-src="{{e.message.image}}" ng-if="e.message.image.length"/>
            <span class="bot-timestamp">{{isFriend(e.message.from)}} {{e.timestamp | date: 'HH:mm'}}</span>
          </div>
        </div>
      </div>
    </div>
  </ion-content>  

  <ion-footer-bar align-title="center" class="bar-assertive">
    <div class="buttons">
      <button class="button"></button>
    </div>
    <h2 class="title">
      <button class="button button-clear button-icon icon ion-play" onclick="playLottery()"></button> Bet now
    </h2>
    <div class="buttons" ng-click="doSomething()">
      <button class="button"></button>
    </div>
  </ion-footer-bar>

</ion-view-->

<ion-view view-title=" " hide-tabs cache-view="false">
  <ion-nav-bar class="bar-assertive">
    <ion-nav-back-button>
      <span class="badge badge-light" ng-hide="msgCounter+DMCounter==0"> {{msgCounter + DMCounter}}</span>    
    </ion-nav-back-button>  
  </ion-nav-bar> 
  <ion-header-bar align-title="center" class="bar-assertive">
  <h1 class="buttons title">
      <img src="{{activeApp.Logo}}" height="40px" width="auto">
      {{activeApp.Name}} {{activeApp.Description | strLimit: 8 : 0}}
  </h1>
  <div class="buttons">
    <button id="rightBtnHeader" class="button"></button>
  </div>
  </ion-header-bar> 
  <ion-content class="has-header" >
  <ion-refresher pulling-txt="load" on-refresh="refresh(activeApp.GUID)"></ion-refresher>
    <div ng-bind-html="appContainer"></div>
    <ion-scroll direction="y" class="chatDapp message-list">
      <div ng-repeat="chat in DAPPchats | filter:isFromDapp | orderBy:'message.time'"
        class="message-wrapper">
        <div ng-class="chat.message.from === activeApp.Address ? 'bubble bubble-mine' : 'bubble bubble-other'">
            <img on-hold="chooseDappAction(activeApp)" ng-src="{{chat.identity}}" ng-class="chat.message.from === activeApp.Address ? 'rounded image image-mine' : 'rounded image image-other'""> 
          <div class="message" ng-class="chat.message.from === activeApp.Address ? 'message-mine' : 'message-other'" on-hold="chooseDappAction(activeApp)">
            <div class="message-text" ng-if="chat.message.text.length" ng-bind-html="chat.message.text"></div>
            <img ng-src="{{chat.message.image}}" height="100px" width="auto" ng-if="chat.message.image.length"/>
            <span class="message-timestamp">{{isFriend(chat.message.from) | strLimit: 5 : 0}} {{chat.message.time == undefined ? 'outdated v.' : chat.message.time | date: 'HH:mm'}}</span>
          </div>
        </div>
      </div>
    </ion-scroll>
  </ion-content>
  <ion-footer-bar align-title="center" class="bar-assertive">
    <button id="leftButton" class="button"></button>
    <h2 class="title">
      <button id="centerButton" class="button"></button>
    </h2>
    <button id="rightButton" class="button"></button>
  </ion-footer-bar>
</ion-view>
